<h1>Introduction to Android</h1>
<h4>Christine Julien, The University of Texas at Austin</h4>
<p>&nbsp;</p>

<p>The Android operating system is a popular open source operating
system for mobile devices. Android is released and maintained by Google.</p>
<h3>Installing Android Studio</h3>
<p>While many mobile devices like those we will use in class come with Android already installed, to write new Android applications, we need to use Android Studio. We each need to download and install Android Studio on our own laptops.</p>
<p>Visit this <a href="https://developer.android.com/studio/install.html">link</a>, which should direct you to the appropriate version of Android for your laptop's operating system. Click the download button. Once the download completes, click the downloaded file and follow the on-screen instructions.</p>
<p>Unless you're already an Android Studio user, to complete the installation, choose the "I do not have a previous version of Studio or I do not want to import my settings" and then choose "OK" to complete the installation.</p>
<h3>Creating a First Android Application</h3>
<p>Next, we'll write a simple Android application just to get some basic experience in the Android Studio environment and some of the capabilities of the Android programming environment. This mini-tutorial is based heavily on the official Android first-app tutorial <a href="https://developer.android.com/training/basics/firstapp/index.html">here</a>&nbsp;and&nbsp;<span>licensed under </span><a href="http://creativecommons.org/licenses/by/2.5/" target="_blank" rel="noopener noreferrer">Creative Commons Attribution 2.5</a>; I have made relatively minor&nbsp;changes and additions. You can find many more resources and tutorials for more advanced features at that same site.</p>
<h4>Step 1: Create an Android Project</h4>
<p>When you launch Android studio, assuming you do not have a project open, you will be presented with a splash screen with several options.</p>
<p>Select the first option ("Start a new Android Studio project").</p>
<p>On the following screen, we need to give the project a name and choose a domain. Use "My First App" as the name and "example.com" as the domain. The default location is fine.</p>
<p>Select Next.</p>
<p>On the next screen ("Target Android Devices") just keep the default values and click Next.</p>
<p>Click Next on the subsequent screen, and now you should see a screen titled "Add an Activity to Mobile". Choose "Empty Activity" and click Next.</p>
<p>In the "Customize the Activity" screen, just keep the default values and click Finish.</p>
<p>After Android Studio does a little bit of work (it'll take it a minute, especially the first time), you will be taken to the main window of the Android Studio IDE (Integrated Development Environment).</p>
<p>[If you face an error saying that your build tools are out of date, just follow the instructions to update them.]</p>
<p>The first thing we want to make sure of is that we're looking at the "Android" view in the "Project" window.&nbsp;Make sure "Project" is selected along the left hand side of the IDE and that "Android" is selected in the top left corner of the Project window.&nbsp;</p>
<p>You should now be able see (among some other things) the following files:</p>
<dl>
<dt>
<p><strong>app &gt; java &gt; com.example.myfirstapp &gt; MainActivity.java</strong></p>
</dt>
<dd>
<p>This is the main activity (the entry point for your app). When you build and run the app, the system launches an instance of this Activity and loads its layout.</p>
</dd>
<dd></dd>
<dt>
<p><strong>app &gt; res &gt; layout &gt; activity_main.xml</strong></p>
</dt>
<dd>
<p>This XML file defines the layout for the activity's UI. It contains a&nbsp;TextView&nbsp;element with the text "Hello world!".</p>
</dd>
<dd></dd>
<dt>
<p><strong>app &gt; manifests &gt; AndroidManifest.xml</strong></p>
</dt>
<dd>
<p>The manifest file&nbsp;describes the fundamental characteristics of the app and defines each of its components.</p>
</dd>
<dd></dd>
<dt>
<p><strong>Gradle Scripts &gt; build.gradle</strong></p>
</dt>
<dd>
<p>You'll see two files with this name: one for the project and one for the "app" module. Each module has its own&nbsp;build.gradle&nbsp;file, but this project currently has just one module. You'll mostly work with the module's build.gradle&nbsp;file to configure how the Gradle tools compile and build your app.</p>
</dd>
<dd></dd>
<dt>
</dt>
</dl>
<p>Explore these files a bit before we move on. Can you find "Hello World"?</p>
<h4>Step 2: Run the App on a Real Device</h4>
<p>Grab one of the class's Android devices (or use your own if you prefer). [Note: you will have to share these around.] Connect the device to your computer using a USB cable.</p>
<p>Next, click "Run app" from the "Run" menu (or just select the green triangle icon in the tool bar).</p>
<p>Select your device in the popup window that appears, then click OK. If you wait just a minute, the app should then run on your device.</p>
<h4>Step 3: Run the App on an Emulated Device</h4>
<p>So always having to run the app on a real device is cumbersome. Not only because we have a limited number of devices but also because it's a slow process to send the new app to the device every time. We can also "emulate" an Android device on our own computer.</p>
<p>Before we&nbsp;run your app on an emulator, we&nbsp;need to create an Android Virtual Device&nbsp;(AVD) definition. An AVD definition specifies the characteristics of an Android phone, tablet, Android Wear, or Android TV device that you want to simulate in the Android Emulator. (So you can also emulate devices that you don't actually own!)</p>
<p>Create an AVD Definition as follows:</p>
<ol>
<li>Launch the Android Virtual Device Manager by selecting <strong>Tools &gt; Android &gt; AVD Manager</strong>, or by clicking the AVD Manager icon (it looks like the top of the little Android dude in front of a purple device) in the toolbar.</li>
<li>In the <strong>Your Virtual Devices</strong> screen, click <strong>Create Virtual Device</strong>.</li>
<li>In the <strong>Select Hardware</strong> screen, select a phone device, such as Pixel, and then click <strong>Next</strong>.</li>
<li>In the <strong>System Image</strong> screen, click <strong>Download</strong> for one of the recommended system images. Agree to the terms to complete the download.</li>
<li>After the download is complete, select the system image from the list and click <strong>Next</strong>.</li>
<li>On the next screen, leave all the configuration settings as they are and click <strong>Finish</strong>.</li>
<li>Back in the <strong>Your Virtual Devices</strong> screen, select the device you just created and click <strong>Launch this AVD in the emulator&nbsp;</strong>(that's the green triangle on the right hand side).</li>
</ol>
<p>While the emulator starts up, close the Android Virtual Device Manager window and return to your project so you can run the app. First, select&nbsp;<strong>Tools &gt; Android</strong> and make sure that&nbsp;<strong>Enable ADB Integration</strong> is checked.</p>
<ol>
<li>Once the emulator is booted up, click the <strong>app</strong> module in the <strong>Project</strong> window and then select <strong>Run &gt; Run</strong> (or click the green triangle run icon in the toolbar).</li>
<li>In the <strong>Select Deployment Target</strong> window, select the emulator and click <strong>OK</strong>.</li>
</ol>
<p>Android Studio installs the app on the emulator and starts it. You should see your "Hello World" app running in the emulated device.</p>
<h4>Step 4: A More Interesting Layout</h4>
<p>So that first app just writes "Hello World" in the middle of the screen. That's not very interesting. In this next step, we'll make a more interesting "layout". But first, what is a Layout?</p>
<p><span>The user interface for an Android app is built using a hierarchy of </span><i>layouts</i><span>&nbsp;(ViewGroup o</span><span>bjects) and </span><i>widgets</i><span>&nbsp;(View&nbsp;</span><span>objects). Layouts are invisible containers that control how its child views are positioned on the screen. Widgets are UI components such as buttons and text boxes.</span></p>
<p>Android provides an XML vocabulary for ViewGroup&nbsp;and View&nbsp;classes, so most of your UI is defined in XML files. But there's also a handy Layout Editor that allows you to build the layout by dragging and dropping the layouts&nbsp;and widgets, making it much easier. That's what we'll use for now.</p>
<p>First, let's open the Layout Editor. To get there, in the&nbsp;Project window, open <strong>app &gt; res &gt; layout &gt; activity_main.xml&nbsp;</strong>by double clicking on it. Hide the Project window (just click on Project on the left hand side of the window). You should be looking at the XML source for your layout; to switch to the layout editor, click on Design on the bottom of the window</p>
<p>Next click <strong>Show Blueprint</strong> <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/layout-editor-blueprint.png" alt="" /> so only the blueprint layout is visible.</p>
<p>Then make sure Show Constraints <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/layout-editor-hide-constraints.png" alt="" />&nbsp;is on and Autoconnect &nbsp;<img class="inline-icon" src="https://developer.android.com/studio/images/buttons/layout-editor-autoconnect-on.png" alt="" />&nbsp;is off.</p>
<p>Click <strong>Default Margins</strong> <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/layout-editor-margin.png" alt="" /> in the toolbar and select <strong>16</strong> (you can still adjust the margin for each view later).</p>
<p>Finally, click <strong>Device in Editor</strong> <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/layout-editor-device.png" alt="" /> in the toolbar and select <strong>Pixel XL</strong>.</p>
<p>Your Android Studio window should now look something like this:</p>
<p>The <strong>Component Tree</strong> window on the bottom-left side shows the layout's hierarchy of views. In this case, the root view is a ConstraintLayout, containing just one TextView&nbsp;object.</p>
<p>ConstraintLayout is a layout that defines the position for each view based on constraints to sibling views and the parent layout. It allows you to create both simple and complex layouts with a flat view hierarchy. This way, we don't end up with&nbsp;<em>nested layouts</em>&nbsp;(a layout inside a layout), which can increase the time required to draw an app's&nbsp;UI.</p>
<div class="attempt-right"><img src="https://developer.android.com/training/basics/firstapp/images/constraint-example_2x.png" alt="" width="418" />
<p class="img-caption">For example, you can declare the above&nbsp;layout with the following constraints:</p>
</div>
<ul>
<li>View A appears 16dp from the top of the parent layout.</li>
<li>View A appears 16dp from the left of the parent layout.</li>
<li>View B appears 16dp to the right of view A.</li>
<li>View B is aligned to the top of view A.</li>
</ul>
<p>Let's use this approach to build a more complicated layout for our application.&nbsp;</p>
<p>Let's start by adding a text box (a place for a user to enter text) into our application. But before that, let's get "Hello World" out of the way. Just click on it and hit the delete button on your keyboard.</p>
<p>Now, from the <strong>Palette</strong> window on the left, click <strong>Text</strong> in the left pane, and then drag <strong>Plain Text</strong> into the design editor and drop it near the top of the layout. This is an EditText&nbsp;widget that accepts plain text input.</p>
<p>Click the view in the design editor. You can now see the resizing handles on each corner (squares), and the constraint anchors on each side (circles). For better control, you might want to zoom in on the editor to 75% or higher using the buttons in the toolbar.</p>
<p>Click-and-hold the anchor on the top side, and then drag it up until it snaps to the top of the layout and release. That's a constraint&mdash;it specifies the view should be 16dp from the top of the layout (because you set the default margins to 16dp). Similarly, create a constraint from the left side of the view to the left side of the layout.</p>
<p>That piece of your window should look a little something like this:</p>
<p><img src="https://developer.android.com/training/basics/firstapp/images/constraint-textbox_2x.png" alt="" width="429" /><span></span></p>
<p class="img-caption">Next, let's add a button that the user can press after entering some text.</p>
<p class="img-caption">From the <strong>Palette </strong>window, click <strong>Widgets</strong> in the left pane, and then drag <strong>Button</strong> into the design editor and drop it near the right side.</p>
<p class="img-caption">Create a constraint from the left side of the button to the right side of the text box.</p>
<p class="img-caption">To make sure the button and the text box are aligned horizontally, you need to create a constraint between the text baselines. So click the button, and then click <strong>Baseline Constraint</strong> <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/layout-editor-action-baseline.png" alt="" />, which appears in the design editor directly below the selected view. The baseline anchor appears inside the button. Click-and-hold on this anchor and then drag it to the baseline anchor that appears in the text box. (You can also create a horizontal alignment using the top or bottom edges, but the button includes padding around its image, so the visual alignment is wrong if you align these views that way. That is, it ends up looking not quite right.)</p>
<p class="img-caption">Here's what it should look like now:</p>
<p class="img-caption"><img src="https://developer.android.com/training/basics/firstapp/images/constraint-button_2x.png" alt="" width="429" /><span></span></p>
<p class="img-caption">If we were to run our app now on the phone or in the emulator (feel free to try if you want), we would see that the text box has the text "Name" in it and the button is labeled with "Button".</p>
<p class="img-caption">A quicker way to preview user interface (UI) elements like this is through the design preview feature in Android Studio.&nbsp;<span>Click </span><strong>Show Design</strong><span> </span><img class="inline-icon" src="https://developer.android.com/studio/images/buttons/layout-editor-design.png" alt="" /><span> in the toolbar to check it out.</span></p>
<p class="img-caption">In any case, neither of those pieces of text are&nbsp;too exciting or informative. So let's change them.</p>
<p class="img-caption">Click "Project" again on the left hand side of the window. Then open the file&nbsp;<strong>res &gt; values &gt; strings.xml</strong>. This is a string resources&nbsp;file that basically stores all of the "constant" strings used in your UI. This file&nbsp;allows you to keep&nbsp;all of your UI strings in a single location, which makes it easier to find and update them quickly.</p>
<p class="img-caption">When you open up this file, you'll see that the only string defined so far is probably "My First App". Feel free to change that one, too if you want. You can add new strings by replicating what's already there. But Android Studio also has an easy-to-use interface for adding new strings.&nbsp;Click <strong>Open editor</strong> at the top of the editor window to open the Translations Editor, which provides a simple interface for adding and editing your default strings, and helps keep all your translated strings organized.</p>
<p class="img-caption">Click <strong>Add Key</strong> <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/add-sign-green-icon.png" alt="" /> to create a new string as the "hint text" for the text box. Enter "edit_message" for the key name. Enter "Enter a message" for the value. Click <strong>OK</strong>.&nbsp;</p>
<p class="img-caption"><img class="attempt-right" src="https://developer.android.com/training/basics/firstapp/images/add-string_2x.png" width="338" /></p>
<p class="img-caption">Repeat the process to add another key named "button_send" with a value of "Send."</p>
<p class="img-caption">At this point, you have defined the strings, but you haven't connect them to the TextView or the Button in your UI. To do this, we need to&nbsp;return to the layout file by clicking&nbsp;<strong>activity_main.xml </strong>in the tab bar. Then click the text box in the layout and, if the <strong>Properties</strong> window isn't already visible on the right, click <strong>Properties</strong> <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/window-properties.png" alt="" /> on the right sidebar. Locate the <strong>hint </strong>property and then click <strong>Pick a Resource</strong> <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/pick-resource.png" alt="" /> to the right of the text box. In the dialog that appears, double-click on <strong>edit_message</strong> from the list. Still viewing the text box properties, also delete the value for the <strong>text</strong> property (currently set to "Name"). Now click the button in the layout, locate the <strong>text</strong> property, click <strong>Pick a Resource</strong>, and then select <strong>button_send</strong>. Check out the design preview to see if it matches what you expect.</p>
<p class="img-caption">The last step in this section is to make the length of the text box responsive to the screen size. One of the things that can make an Android UI look childish is when the the UI elements are not evenly spaced in the viewable screen. But because different devices have different sized screens, using fixed sizes for things can cause problems.&nbsp;<span>To create a layout that's responsive to different screen sizes, we want to&nbsp;make the text box stretch to fill all remaining horizontal space (after accounting for the button and margins).</span></p>
<p class="img-caption"><span>Recall that our button was constrained to be distanced from the end of the text box. Instead, let's add a constraint to space it from the right hand side of the viewable screen.&nbsp;</span>Create a constraint from the right side of the button to the right side of the parent layout. This now defines the total width that the two views have available (which you can now fill with the text box).</p>
<p class="img-caption">Now open the <strong>Properties</strong> window for the text box and then click the width indicator until it is set to <strong>Match Constraints</strong>. "Match constraints" means that the width is now determined by the horizontal constraints and margins. Therefore, the text box stretches to fill the horizontal space.</p>
<p class="img-caption">And that's it! For your satisfaction, run the app again!</p>
<h4 class="img-caption">Step 5: Let's Make it DO Something!</h4>
<p>So what happens when you "click" that button? Nothing, right? That's kind of unsatisfying. So let's make the app do something when you click the "Send" button.</p>
<p>This is where we get to write our first little bit of java code.</p>
<p>We need to add a method in MainActivity.java&nbsp;that's called when&nbsp;the button is pressed.</p>
<p>So open the file <strong>app &gt; java &gt; com.example.myfirstapp &gt; MainActivity.java</strong>, then add the sendMessage()&nbsp;method stub as shown below:</p>
<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MainActivity</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">AppCompatActivity</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="lit">@Override</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCreate</span><span class="pun">(</span><span class="typ">Bundle</span><span class="pln"> savedInstanceState</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">onCreate</span><span class="pun">(</span><span class="pln">savedInstanceState</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; setContentView</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">layout</span><span class="pun">.</span><span class="pln">activity_main</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br /><br />&nbsp; &nbsp; </span><strong><span class="com">/** Called when the user taps the Send button */</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> sendMessage</span><span class="pun">(</span><span class="typ">View</span><span class="pln"> view</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// Do something in response to button</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span></strong><span class="pln"><br /></span><span class="pun">}</span></pre>
<p>You may see an error because Android Studio cannot resolve the View class used as the method argument. So click to place your cursor on the View declaration, and then perform a Quick Fix by pressing Alt + Enter (or Option + Enter on Mac). (If a menu appears, select <strong>Import class</strong>.) This will add the needed imported classes to your java file. (If you want to see what happened, click the + sign next to "import" near the top of the file (mine was on line 3).)</p>
<p>Now return to the <strong>activity_main.xml</strong> file to call this method from the button:</p>
<ol>
<li>Click to select the button in the Layout Editor.</li>
<li>In the <strong>Properties</strong> window, locate the <strong>onClick</strong> property and select <strong>sendMessage [MainActivity]</strong> from the drop-down list.</li>
</ol>
<p>Now when the button is tapped, the system calls the sendMessage() method.</p>
<p>When you went to choose the "sendMessage" method to associate with the "onClick" property, Android studio went out and searched your code to see what method definitions were compatible with a click behavior. In order for Android Studio to determine that sendMessage was a possibility, it had to do adhere to the&nbsp;following:</p>
<ul>
<li>have "public" access, as indicated by the "public" keyword at the very beginning of the method</li>
<li>have a void return value meaning that no values (e.g., numbers or strings) are returned when the method is called</li>
<li>have a View&nbsp;as the only parameter; in particular, this method will be passed the View object that is clicked (remember, a Button is a View)</li>
</ul>
<p>Go back to MainActivity.java and look at the sendMessage method again. Right now, its body is basically empty (it just contains a comment saying "Do something..."). Next we're going to fill in the body of this method to actually do something when the button is pressed. Specifically, let's read the contents that were entered in the text field and send them to another Android activity.</p>
<h4>Step 6: Let's Make Toast!</h4>
<p>A very basic thing we could do with the text that our user inputs is to display an Android Toast. In Android, a<span>&nbsp;toast provides simple feedback about an operation in a small popup. It only fills the amount of space required for the message and the current activity remains visible and interactive. For example, navigating away from an email before you send it triggers a "Draft saved" toast to let you know that you can continue editing later. Toasts automatically disappear after a timeout. Note that if you actually want a user to interact with your message (for example to acknowledge having seen the message), you should instead use an Android Notification.</span></p>
<p><span>A Toast looks like this:</span></p>
<p><span><img src="https://developer.android.com/images/toast.png" alt="" /></span></p>
<p><span>What we're going to do here is take the input from the text box and just display it in a little toast message.</span></p>
<p>First, we need to instantiate a Toast object with one of the makeText()&nbsp;methods. This method takes three parameters: the application Context, the text message, and the duration for the toast. It returns a properly initialized Toast object. You can display the toast notification with show(), as shown in the following example:</p>
<pre class="prettyprint"><span class="typ">Context</span><span class="pln"> context </span><span class="pun">=</span><span class="pln"> getApplicationContext</span><span class="pun">();</span><span class="pln"><br /></span><span class="typ">CharSequence</span><span class="pln"> text </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Hello toast!"</span><span class="pun">;</span><span class="pln"><br /></span><span class="kwd">int</span><span class="pln"> duration </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Toast</span><span class="pun">.</span><span class="pln">LENGTH_SHORT</span><span class="pun">;</span><span class="pln"><br /><br /></span><span class="typ">Toast</span><span class="pln"> toast </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Toast</span><span class="pun">.</span><span class="pln">makeText</span><span class="pun">(</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> text</span><span class="pun">,</span><span class="pln"> duration</span><span class="pun">);</span><span class="pln"><br />toast</span><span class="pun">.</span><span class="pln">show</span><span class="pun">();</span></pre>
<p>You can also chain your methods and avoid holding on to the Toast object, like this:</p>
<pre class="prettyprint"><span class="typ">Toast</span><span class="pun">.</span><span class="pln">makeText</span><span class="pun">(</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> text</span><span class="pun">,</span><span class="pln"> duration</span><span class="pun">).</span><span class="pln">show</span><span class="pun">();</span></pre>
<p>The only catch, however, is that we want to display not "Hello toast!" but whatever text is inserted in the text box. To do that, we'll need to get access to the information entered in the text entry on the device. Inside our sendMessage method, however, we only have a reference to the Button that was pressed, so we'll need to "find" the text entry box and find out what text has been entered into it.</p>
<p>To do that, we use the findViewById method, given that we know the name of the text box (editText). The code should look something like this:</p>
<pre class="prettyprint"><span class="typ">EditText</span><span class="pln"> editText </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">EditText</span><span class="pun">)</span><span class="pln"> findViewById</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">editText</span><span class="pun">);</span><span class="pln"><br /></span><span class="typ">String</span><span class="pln"> message </span><span class="pun">=</span><span class="pln"> editText</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">().</span><span class="pln">toString</span><span class="pun">();</span></pre>
<p>EditText is the type of the text entry that's displayed on our screen. We call the findViewById method, which will return an object of type View. We have to "cast" that generic View into its specific type (in this case an EditText) so that we can do more things with it that are specific to the EditText type (like ask for the text it contains). Notice that the findViewById method takes as a parameter R.id.editText. In Java, this refers to the class R, which has a field called id, which in turn has a field called editText. The class R is generated automatically based on the other components defined in your activity and its layout.&nbsp;In this case, by saying R.id.editText, we're asking for Android to find the View associated with the label editText.&nbsp;It should look something like this:</p>
<p>OK. So with all of that knowledge, we're ready to write some code inside the sendMessage method body. Go back to the MainActivity.java file and place your cursor by that comment that says "Do something..." Before reading further. I recommend you try to piece together the above information to see if you can figure out what to do. Click <a title="Toast Solution" href="https://utexas.instructure.com/courses/1198798/pages/Toast%20Solution?titleize=0" data-api-endpoint="https://utexas.instructure.com/api/v1/courses/1198798/pages/Toast%2520Solution" data-api-returntype="Page">here</a> to see&nbsp;the code that I used.</p>
<p>Now, you should&nbsp;<em>definitely&nbsp;</em>run your program and see if it works. It finally does something somewhat interesting!</p>
<h4>Step 7: Build and Launch an Intent</h4>
<p>So Toast is fun, but its kind of limited in what it can really do (literally, all it can do is display a transient message). To do more sophisticated things, we need a more sophisticated function. Enter the Intent. In Android, an Intent&nbsp;is an object that connects (the term used is "binds") two components together at runtime. For instance an Intent can connect two Android activities to one another. More generally, the Intent represents an app&rsquo;s "intent to do something."&nbsp;You can use intents for a wide variety of tasks, but in this lesson, our&nbsp;intent will just start&nbsp;another activity and display the text in that new activity.&nbsp;</p>
<p>All of this work will be in our MainActivity.java file. We need to start by adding the EXTRA_MESSAGE constant. You will do this by putting the following just after the declaration of the MainActivity class (for me, this was on line 10):</p>
<pre class="prettyprint"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> EXTRA_MESSAGE </span><span class="pun">=</span><span class="pln"> </span><span class="str">"com.example.myfirstapp.MESSAGE"</span><span class="pun">;</span></pre>
<p>The new Activity&nbsp;will be a completely separate entity from this MainActivity. But it will need to access information that belongs to MainActivity (specifically the text that gets input into EditText). This constant will serve as a "key" to allow the new activity to access MainActivity's data. It has to be public and constant so that any other component can have access to it. In one of the next steps, we'll associate this key with the text stored in the EditText so that when our new Activity "uses" the key, it will be able to access the text value.</p>
<p>Next, we need to change the body of the sendMessage method. We'll still need to access the EditText and gets its value, but we don't need to display the Toast anymore. So you can remove any lines you have that are only there to display the toast. Then we want to add the following three lines (the first two lines in the following are already likely in your code):</p>
<pre class="prettyprint"><span style="color: #808080;"><span class="typ">EditText</span><span class="pln"> editText </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">EditText</span><span class="pun">)</span><span class="pln"> findViewById</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">editText</span><span class="pun">);</span><span class="pln"><br /></span><span class="typ">String</span><span class="pln"> message </span><span class="pun">=</span><span class="pln"> editText</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">().</span><span class="pln">toString</span></span><span class="pun"><span style="color: #808080;">();</span><br /></span><span class="pln"></span><span class="typ">Intent</span><span class="pln"> intent </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Intent</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">,</span><span class="pln"> </span><span class="typ">DisplayMessageActivity</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">);</span><span class="pln"><br />intent</span><span class="pun">.</span><span class="pln">putExtra</span><span class="pun">(</span><span class="pln">EXTRA_MESSAGE</span><span class="pun">,</span><span class="pln"> message</span><span class="pun">);</span><span class="pln"><br />startActivity</span><span class="pun">(</span><span class="pln">intent</span><span class="pun">);</span></pre>
<p>You will again get the error that Android Studio cannot resolve the symbol Intent, and you should again resolve it&nbsp;using&nbsp;<span>Alt + Enter (or Option + Return on Mac). You will also get an error that Android Studio cannot resolve the DisplayMessageActivity class. This one, you cannot resolve (yet) because the class doesn't exist (yet). That's the new Activity that we still need to create. Before we do that, though, let's take a closer look at what we just did in those three new lines.</span></p>
<ul>
<li>The Intent&nbsp;constructor takes two parameters:
<ul>
<li>A Context&nbsp;as its first parameter (we use "this" to refer to the MainActivity class, which is a subclass of Context)&nbsp;</li>
<li>The Class&nbsp;of the app component to which the system should deliver the Intent&nbsp;(in this case, the activity that should be started).</li>
</ul>
</li>
<li>The putExtra()&nbsp;method adds the EditText's&nbsp;value to the intent. An Intent&nbsp;can carry data types as key-value pairs called <em>extras</em>. Your key is that public constant EXTRA_MESSAGE that we created; as described above,&nbsp;the next activity will use&nbsp;the key to retrieve the text value. It's a good practice to define keys for intent extras using your app's package name as a prefix. This ensures the keys are unique, in case your app interacts with other apps.</li>
<li>The startActivity() method starts an instance of the DisplayMessageActivity&nbsp;specified by the Intent. Of course, that doesn't exist yet, so we need to create it.</li>
</ul>
<p>Let's get started on that now.&nbsp;</p>
<ol>
<li>In the <strong>Project</strong> window, right-click the <strong>app</strong> folder and select <strong>New &gt; Activity &gt; Empty Activity</strong>.</li>
<li>In the <strong>Configure Activity</strong> window, enter "DisplayMessageActivity" for <strong>Activity Name</strong> and click <strong>Finish</strong> (leave all other properties set to the defaults).</li>
</ol>
<p>Android Studio automatically does three things:</p>
<ul>
<li>Creates the DisplayMessageActivity.java&nbsp;file.</li>
<li>Creates the corresponding activity_display_message.xml&nbsp;layout file.</li>
<li>Adds the required &lt;activity&gt; element in AndroidManifest.xml.</li>
</ul>
<p>If you run the app now (you should) and tap the button on the first activity, the second activity starts but is empty. This is because the second activity uses the empty layout provided by the template. Next step: let's make it more interesting!</p>
<p>The new activity includes a blank layout file, so now you'll add a text view where the message will appear.</p>
<ol>
<li>Open the file <strong>app &gt; res &gt; layout &gt; activity_display_message.xml</strong>.</li>
<li>Click <strong>Turn On Autoconnect</strong> <img class="inline-icon" src="https://developer.android.com/studio/images/buttons/layout-editor-autoconnect-on.png" alt="" /> in the toolbar.</li>
<li>From the <strong>Pallete</strong> window, drag a <strong>TextView</strong> into the layout and place it near the the top of the layout, near the center so it snaps to the vertical line that appear, and then drop it. Autoconnect adds constraints to place the view in the horizontal center.</li>
<li>Create one more constraint from the top of the text view to the top of the layout, so it appears as shown in the following picture.</li>
</ol>
<p style="padding-left: 30px;"><img style="font-size: 0.875rem;" src="https://developer.android.com/training/basics/firstapp/images/constraint-textview_2x.png" alt="" width="430" /></p>
<p class="img-caption" style="font-size: 0.875rem; padding-left: 30px;">Optionally, make some adjustments to the text style by expanding <strong>textAppearance</strong> in the <strong>Properties</strong> window and change attributes such as <strong>textSize</strong> and <strong>textColor</strong>.</p>
<p class="img-caption" style="font-size: 0.875rem;">If you run your app again, we're making progress, but you'll see the text "TextView" in your second activity, not yet the text that enter in the text box in the MainActivity. We still need to tie these two together.</p>
<p class="img-caption" style="font-size: 0.875rem;">Open up DisplayMessageActivity.java and take a look at the onCreate() method. Not surprisingly, this method is called when the activity is created. In our case, since the new Activity is launched from the Button click in the MainActivity, this method is called when that button is clicked.</p>
<p class="img-caption" style="font-size: 0.875rem;">By default, it only does the following two kinda boring things:</p>
<pre><span>super</span>.onCreate(savedInstanceState);<br />setContentView(R.layout.<span>activity_display_message</span>);</pre>
<p class="img-caption" style="font-size: 0.875rem;">The first calls the constructor of the base class (in this case AppCompatActivity), just to make sure its set up correctly. The second sets up the layout with that xml file we were just editing.</p>
<p class="img-caption" style="font-size: 0.875rem;">In order to get it to also access that string we entered in the EditText in MainActivity, we need to use the key we were given as part of the Intent to find the value that was associated with it when the Intent was created. To do this, we need to add the following lines to our onCreate method:</p>
<pre class="prettyprint"><span class="com">// Get the Intent that started this activity and extract the string</span><span class="pln"><br /></span><span class="typ">Intent</span><span class="pln"> intent </span><span class="pun">=</span><span class="pln"> getIntent</span><span class="pun">();</span><span class="pln"><br /></span><span class="typ">String</span><span class="pln"> message </span><span class="pun">=</span><span class="pln"> intent</span><span class="pun">.</span><span class="pln">getStringExtra</span><span class="pun">(</span><span class="typ">MainActivity</span><span class="pun">.</span><span class="pln">EXTRA_MESSAGE</span><span class="pun">);</span><span class="pln"><br /><br /></span><span class="com">// Capture the layout's TextView and set the string as its text</span><span class="pln"><br /></span><span class="typ">TextView</span><span class="pln"> textView </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">TextView</span><span class="pun">)</span><span class="pln"> findViewById</span><span class="pun">(</span><span class="pln">R</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">textView</span><span class="pun">);</span><span class="pln"><br />textView</span><span class="pun">.</span><span class="pln">setText</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);<br /></span></pre>
<p class="img-caption" style="font-size: 0.875rem;"><span class="pun">Take a look at this code and convince yourself that you understand what's going on. In the first piece, we're getting the intent that launched this activity then using the EXTRA_MESSAGE key to get the text that was entered in the EditText in MainActivity. In the second portion, we getting access to this Activity's TextView and setting its text. As above with the text view (in the main activity), y<span>ou can verify that this is the right view component for us by clicking on the text view&nbsp;in the activity_display_message.xml design viewer and verifying that the ID has the value textView. If the value is something else (which might happen if you play around with the layout some), then use the correct value.</span></span></p>
<p class="img-caption" style="font-size: 0.875rem;"><span class="pun">Assuming you understand all of this, give it a whirl in the emulator (and on a device) to make sure it all works.</span></p>
<p class="img-caption" style="font-size: 0.875rem;"><span class="pun">OK. We're almost done. But probably you noticed that, with this setup, you can only run the app once, then you need to relaunch it to try entering a different string. Wouldn't it be handy if you could go "back" to the previous screen and do it all again? It turns out this is such a common function in Android apps that it's really easy to add.</span></p>
<p class="img-caption" style="font-size: 0.875rem;">In general, each screen in your app that is not the main entrance (all screens that are not the "home" screen) should provide navigation so the user can return to the logical parent screen in the app hierarchy by tapping the Up button in the&nbsp;app bar.</p>
<p>All you need to do is declare which activity is the logical parent in the AndroidManifest.xml&nbsp;file. So open the file at <strong>app &gt; Manifests &gt; AndroidManifest.xml</strong>, locate the &lt;activity&gt;&nbsp;tag for DisplayMessageActivity&nbsp;and replace it with the following:</p>
<pre class="prettyprint"><span class="tag">&lt;activity</span><span class="pln"> </span><span class="atn">android:name</span><span class="pun">=</span><span class="atv">".DisplayMessageActivity"</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:parentActivityName</span><span class="pun">=</span><span class="atv">".MainActivity"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="com">&lt;!-- The meta-data tag is required if you support API level 15 and lower --&gt;</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="tag">&lt;meta-data</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:name</span><span class="pun">=</span><span class="atv">"android.support.PARENT_ACTIVITY"</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="atn">android:value</span><span class="pun">=</span><span class="atv">".MainActivity"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br /></span><span class="tag">&lt;/activity&gt;</span></pre>
<p>The Android system now automatically adds the Up button in the app bar.</p>
<h3>More Reading</h3>
<p>If you're all done with all of that and found this assignment interesting, here are some additional things you can do. There are a ton of possibilities!</p>
<ul>
<li>The best place to start are the official <a href="https://developer.android.com/training/index.html">Android Tutorials</a>. (That's where I borrowed most of this tutorial from). If you look on the left pane, you can see all of the options. We completed the "Building Your First App" tutorial.<a href="https://developer.android.com/training/index.html">&nbsp;</a>You can browse through these and see which might be interesting to you. If you want some recommendations of things that are commonly done:
<ul>
<li><a href="https://developer.android.com/training/basics/fragments/index.html">Fragments</a> are very common in Android development.</li>
<li><a href="https://developer.android.com/training/basics/intents/index.html">Interacting across apps</a> (e.g., sending an email or SMS) is also a common activity.</li>
<li><a href="https://developer.android.com/training/building-location.html">Location and maps</a> play into lots of apps (though not so much in this course)</li>
</ul>
</li>
<li>The Android Tutorials are not the only resources out there (though they are quite good and quite comprehensive). Google also provides a lot of <a href="https://developer.android.com/samples/index.html">samples</a>&nbsp;that you can download and peruse.</li>
<li>Bluetooth is a common connectivity mechanism, and there's no official Android Tutorial to cover it. The general information page on <a href="https://developer.android.com/guide/topics/connectivity/bluetooth.html">Bluetooth on Android</a> and the <a href="https://developer.android.com/samples/BluetoothChat/index.html">Bluetooth Chat</a> example are good places to go instead.</li>
<li>Finally, google is your friend. If you want to do something in particular on Android and don't know how, just search. Most often,&nbsp;someone has tried the same thing before and can give you pointers. A lot of these searches will lead you to <a href="https://stackoverflow.com/">stackoverflow</a>, which can provide a wealth of information on all topics related to programming (not just Android!).</li>
</ul>